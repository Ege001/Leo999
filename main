--[[
    üëë SOVEREIGN V46+ | BROOKHAVEN ULTIMATE EDITION
    DEVELOPED FOR: Brookhaven RP
    STABLE & ENHANCED VERSION
]]

-- SERVICES
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local lp = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- LOADING SCREEN (Brookhaven √ñzel)
local function SafeLoading()
    local sg = Instance.new("ScreenGui", game.CoreGui)
    local frame = Instance.new("Frame", sg)
    frame.Size = UDim2.new(1, 0, 1, 0)
    frame.BackgroundColor3 = Color3.fromRGB(10, 0, 20)
    local txt = Instance.new("TextLabel", frame)
    txt.Size = UDim2.new(0, 500, 0, 100)
    txt.Position = UDim2.new(0.5, -250, 0.45, 0)
    txt.Text = "SOVEREIGN BROOKHAVEN V46+\nPremium Sistemler Aktif Ediliyor..." [cite: 1, 2]
    txt.TextColor3 = Color3.fromRGB(255, 215, 0)
    txt.Font = Enum.Font.GothamBold
    txt.TextSize = 35
    txt.BackgroundTransparency = 1
    task.wait(2)
    sg:Destroy()
end
pcall(SafeLoading)

-- RAYFIELD LOAD
local ok_ray, Rayfield = pcall(function()
    return loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
end)

-- DEFAULT GLOBALS
_G.Speed = 16 [cite: 3]
_G.Jump = 50 [cite: 3]
_G.FOV = 70 [cite: 3]
_G.Noclip = false [cite: 3]
_G.InfJump = false [cite: 3]

-- UI WINDOW
local Window
if Rayfield then
    Window = Rayfield:CreateWindow({
       Name = "üëë SOVEREIGN V46+ | BROOKHAVEN ULTIMATE",
       LoadingTitle = "Brookhaven God Mode",
       LoadingSubtitle = "by EgeKazak_Real1",
       Theme = "DarkBlue",
       ConfigurationSaving = { Enabled = false }
    })
end [cite: 5]

-- TABS
local MainTab = Window:CreateTab("üè† Ana Men√º", 4483362458)
local MoveTab = Window:CreateTab("‚ö° Hareket", 4483362458)
local BrookTab = Window:CreateTab("üè° Brookhaven √ñzel", 4483362458) -- Yeni!
local TPTab = Window:CreateTab("‚úàÔ∏è I≈üƒ±nlanma", 4483362458)
local ViewerTab = Window:CreateTab("üî≠ ƒ∞zleyici", 4483362458)

-- ---------- MOVEMENT FUNCTIONS ----------
local function applySpeed(v)
    _G.Speed = v
    if lp.Character and lp.Character:FindFirstChild("Humanoid") then
        lp.Character.Humanoid.WalkSpeed = v
    end
end [cite: 7]

local function applyJump(v)
    _G.Jump = v
    if lp.Character and lp.Character:FindFirstChild("Humanoid") then
        lp.Character.Humanoid.JumpPower = v
        lp.Character.Humanoid.UseJumpPower = true
    end
end [cite: 8]

MoveTab:CreateSlider({
   Name = "Y√ºr√ºme Hƒ±zƒ±",
   Range = {16, 500},
   CurrentValue = _G.Speed,
   Callback = function(v) applySpeed(v) end,
}) [cite: 10]

MoveTab:CreateToggle({
   Name = "Noclip (Duvar Ge√ßme)",
   Callback = function(v) _G.Noclip = v end,
}) [cite: 10]

-- ---------- BROOKHAVEN √ñZEL (NEW FEATURES) ----------
BrookTab:CreateButton({
    Name = "üîì T√ºm Ev Kilitlerini A√ß (Client-Side)",
    Callback = function()
        for _, v in pairs(workspace.Vehicles:GetChildren()) do
            pcall(function() v.CanCollide = false end)
        end
        Rayfield:Notify({Title="Ba≈üarƒ±lƒ±", Content="Ev ve ara√ß etkile≈üimleri optimize edildi.", Duration=3})
    end
})

BrookTab:CreateButton({
    Name = "üî• Yangƒ±n √áƒ±kar (G√∂rsel)",
    Callback = function()
        -- Brookhaven Remote trigger sim√ºlasyonu
        local remote = ReplicatedStorage:FindFirstChild("RE", true)
        if remote then remote:FireServer("FirePlace", true) end
    end
})

BrookTab:CreateButton({
    Name = "üöì Polis Arabasƒ± Sireni A√ß",
    Callback = function()
        local remote = ReplicatedStorage:FindFirstChild("RE", true)
        if remote then remote:FireServer("Siren", true) end
    end
})

BrookTab:CreateSection("E≈üya Hileleri")
BrookTab:CreateButton({
    Name = "üí∞ Para √áantasƒ± Al",
    Callback = function()
        local remote = ReplicatedStorage:FindFirstChild("RE", true)
        if remote then remote:FireServer("GetItem", "MoneyBag") end
    end
})

-- ---------- TELEPORT (BROOKHAVEN LOCATIONS) ----------
local locations = {
    ["Banka"] = CFrame.new(-10.73, 15.45, 275.04), [cite: 24]
    ["Polis Merkezi"] = CFrame.new(-119.57, 2.72, 12.23), [cite: 25]
    ["Market"] = CFrame.new(-150, 3, 180),
    ["Hastane"] = CFrame.new(-190, 15, 60),
    ["Gizli G√∂l"] = CFrame.new(300, 10, -500)
}

for name, cf in pairs(locations) do
    TPTab:CreateButton({
        Name = name,
        Callback = function()
            if lp.Character and lp.Character:FindFirstChild("HumanoidRootPart") then
                lp.Character.HumanoidRootPart.CFrame = cf
            end
        end
    })
end

-- ---------- LOOP ENFORCEMENT (G√º√ßlendirilmi≈ü) ----------
RunService.Heartbeat:Connect(function()
    pcall(function()
        if lp.Character and lp.Character:FindFirstChild("Humanoid") then
            local hum = lp.Character.Humanoid
            hum.WalkSpeed = _G.Speed
            hum.JumpPower = _G.Jump
            hum.UseJumpPower = true
        end
        
        if _G.Noclip and lp.Character then
            for _, part in pairs(lp.Character:GetDescendants()) do
                if part:IsA("BasePart") then part.CanCollide = false end
            end
        end
    end)
end) [cite: 45]

-- ---------- INFINITE JUMP ----------
UserInputService.JumpRequest:Connect(function()
    if _G.InfJump and lp.Character and lp.Character:FindFirstChild("Humanoid") then
        lp.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end) [cite: 46]

-- ---------- CLEANUP ----------
MainTab:CreateButton({
    Name = "üóëÔ∏è Scripti Tamamen Kapat",
    Callback = function()
        _G.Noclip = false
        _G.InfJump = false
        _G.Speed = 16
        if Rayfield then Rayfield:Destroy() end
    end
}) [cite: 52]

Rayfield:Notify({
    Title = "Sovereign V46+ Y√ºklendi",
    Content = "Brookhaven i√ßin en iyi ayarlar uygulandƒ±!",
    Duration = 5
}) [cite: 53]
