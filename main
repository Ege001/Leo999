-- Modern UI Yükleme
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Gemini Ultra Hub V10 | MASTER PRO",
   LoadingTitle = "Sistemler Bypass Ediliyor...",
   LoadingSubtitle = "Ege001 Özel | All-In-One",
   ConfigurationSaving = { Enabled = true, FolderName = "GeminiV10" }
})

-- DEĞİŞKENLER
local lp = game.Players.LocalPlayer
local char = lp.Character or lp.CharacterAdded:Wait()
local runService = game:GetService("RunService")
local camera = workspace.CurrentCamera
local selectedPlayer = nil

-- FLY DEĞİŞKENLERİ
local flying = false
local flySpeed = 50
local bGyro, bVel

-- SEKMELER
local CharacterTab = Window:CreateTab("Karakter (Fly/Speed)", 4483362458)
local VIPTab = Window:CreateTab("Gamepass & AdStore", 4483362458)
local ViewTab = Window:CreateTab("İzleme & Troll", 4483362458)
local VehicleTab = Window:CreateTab("Araçlar / Vehicles", 4483362458)
local SettingsTab = Window:CreateTab("Ayarlar / Settings", 4483362458)

-- 1. ADSTORE & FETCHED BYPASS (TXT DOSYASINDAKİ TÜM VERİLERLE) [cite: 1, 6, 12]
VIPTab:CreateButton({
   Name = "Tüm Gamepassleri & AdStore'u Aktif Et",
   Callback = function()
      pcall(function()
          -- 'AllPassesFetched' Kontrolünü Zorla True Yap (Görseldeki Engel)
          for _, v in pairs(getgc(true)) do
              if type(v) == "table" and rawget(v, "AllPassesFetched") ~= nil then
                  v.AllPassesFetched = true
              end
          end

          -- MarketplaceService Hooking (VIP, Premium ve Diğerleri İçin) [cite: 3, 5]
          local mt = getrawmetatable(game)
          setreadonly(mt, false)
          local old = mt.__index
          mt.__index = newcclosure(function(t, k)
              if k == "UserOwnsGamePassAsync" or k == "PlayerOwnsAsset" then return true end
              return old(t, k)
          end)

          -- AdStore Menüsünü Görünür Yap
          local adStore = lp.PlayerGui.MainGUIHandler:FindFirstChild("AdStore", true)
          if adStore then adStore.Visible = true end
          
          Rayfield:Notify({Title = "Bypass", Content = "Tüm Brookhaven Paketleri ve AdStore Açıldı!", Duration = 5})
      end)
   end,
})

-- 2. UNIVERSAL FLY (MOBİL JOYSTICK & PC WASD UYUMLU)
CharacterTab:CreateToggle({
   Name = "Uçma (Fly Mode)",
   CurrentValue = false,
   Callback = function(Value)
      flying = Value
      local root = lp.Character:WaitForChild("HumanoidRootPart")
      local hum = lp.Character:WaitForChild("Humanoid")

      if flying then
          bGyro = Instance.new("BodyGyro", root)
          bGyro.P = 9e4
          bGyro.maxTorque = Vector3.new(9e9, 9e9, 9e9)
          bGyro.cframe = root.CFrame
          bVel = Instance.new("BodyVelocity", root)
          bVel.velocity = Vector3.new(0,0,0)
          bVel.maxForce = Vector3.new(9e9, 9e9, 9e9)

          spawn(function()
              while flying do
                  runService.RenderStepped:Wait()
                  local controls = require(lp.PlayerScripts:WaitForChild("PlayerModule")):GetControls()
                  local moveVec = controls:GetMoveVector()
                  if moveVec.Magnitude > 0 then
                      bVel.Velocity = (camera.CFrame.LookVector * -moveVec.Z + camera.CFrame.RightVector * moveVec.X) * flySpeed
                      bGyro.CFrame = camera.CFrame
                  else
                      bVel.Velocity = Vector3.new(0, 0, 0)
                  end
                  hum.PlatformStand = true
              end
              hum.PlatformStand = false
              if bGyro then bGyro:Destroy() end
              if bVel then bVel:Destroy() end
          end)
      end
   end,
})

CharacterTab:CreateSlider({
   Name = "Uçma Hızı",
   Range = {10, 500},
   Increment = 10,
   CurrentValue = 50,
   Callback = function(Value) flySpeed = Value end,
})

CharacterTab:CreateToggle({
   Name = "Duvar Geçme (Noclip)",
   CurrentValue = false,
   Callback = function(Value)
      _G.Noclip = Value
      runService.Stepped:Connect(function()
         if _G.Noclip and lp.Character then
            for _, v in pairs(lp.Character:GetDescendants()) do
               if v:IsA("BasePart") then v.CanCollide = false end
            end
         end
      end)
   end,
})

-- 3. GÜÇLENDİRİLMİŞ VIEW & LİSTE
local pDrop = ViewTab:CreateDropdown({
   Name = "Oyuncu Seç",
   Options = {},
   CurrentOption = "",
   Callback = function(Option) selectedPlayer = game.Players:FindFirstChild(Option) end,
})

spawn(function()
    while true do
        local names = {}
        for _, v in pairs(game.Players:GetPlayers()) do
            if v ~= lp then table.insert(names, v.Name) end
        end
        pDrop:Refresh(names)
        task.wait(2)
    end
end)

ViewTab:CreateToggle({
   Name = "Kişiyi İzle (View)",
   CurrentValue = false,
   Callback = function(Value)
      if Value and selectedPlayer and selectedPlayer.Character then
         camera.CameraSubject = selectedPlayer.Character.Humanoid
      else
         camera.CameraSubject = lp.Character.Humanoid
      end
   end,
})

-- 4. ARAÇ VE AYARLAR
VehicleTab:CreateToggle({
   Name = "Araba Hızlandırma",
   CurrentValue = false,
   Callback = function(Value)
      _G.CarFast = Value
      spawn(function()
         while _G.CarFast do
            pcall(function()
                for _, v in pairs(workspace.Vehicles:GetChildren()) do
                    local seat = v:FindFirstChildWhichIsA("VehicleSeat", true)
                    if seat and seat.Occupant and seat.Occupant.Parent == lp.Character then
                        seat.MaxSpeed = 300
                        seat.Torque = 15000
                    end
                end
            end)
            task.wait(0.2)
         end
      end)
   end,
})

SettingsTab:CreateButton({
   Name = "Menüyü Kapat ve Sil (Destroy)",
   Callback = function() Rayfield:Destroy() end,
})
